name: Test Ringover API

on:
  workflow_dispatch:  # Permet de déclencher le test manuellement

jobs:
  test-ringover:
    runs-on: ubuntu-latest

    steps:
      - name: Cloner le dépôt
        uses: actions/checkout@v4

      - name: Configurer Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'  # Version de Python à utiliser

      - name: Installer les dépendances
        run: pip install requests python-dotenv

      - name: Créer le fichier .env
        run: echo "RINGOVER_API_KEY=${{ secrets.RINGOVER_API_KEY }}" > .env

      - name: Exécuter le script
        run: python test_ringover.py
